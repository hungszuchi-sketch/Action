<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ´»åŠ›å››å°„æ´»å‹•å ±åè¡¨</title>
    <!-- è¼‰å…¥ Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- è¨­å®šå­—é«”ç‚º Inter (æˆ–ä¸€å€‹å‹å¥½çš„ç„¡è¥¯ç·šå­—é«”) -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        /* è‡ªå®šç¾©æ»¾å‹•æ¢æ¨£å¼ï¼Œå¢æ·»æ´»æ½‘æ„Ÿ */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(145deg, #f97316, #ec4899); /* æ©˜è‰²åˆ°ç²‰ç´…è‰²çš„æ¼¸å±¤ */
            border-radius: 10px;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary-vibrant': '#ec4899', // æ´»åŠ›çš„ç²‰ç´…è‰²
                        'secondary-energetic': '#f97316', // æ©˜è‰²
                    }
                }
            }
        }

        // ã€Apps Script Web App ç¶²å€å·²æ›´æ–°ï¼ã€‘
        const APPS_SCRIPT_URL = 'https://script.google.com/macros/s/AKfycbw9HcCnhSkH5Pzyb4Fn1AfUCB1hPWtE6kMCCD9mXWHLVMlc17VI3VYYiNTXiycRAurW/exec'; 

        // JavaScript è™•ç†è¡¨å–®æäº¤ (æ”¹ç‚ºä½¿ç”¨ fetch å‚³é€è³‡æ–™åˆ° Google Apps Script)
        async function handleSubmit(event) {
            event.preventDefault();
            const form = document.getElementById('registrationForm');
            const messageBox = document.getElementById('messageBox');
            
            // 1. ç°¡å–®çš„è¡¨å–®é©—è­‰
            const requiredFields = ['name', 'email', 'phone', 'age', 'course'];
            let isValid = true;
            requiredFields.forEach(id => {
                const input = document.getElementById(id);
                // æª¢æŸ¥æ˜¯å¦ç‚ºç©ºå€¼
                if (!input.value) {
                    isValid = false;
                    input.classList.add('border-red-500', 'ring-red-500');
                } else {
                    input.classList.remove('border-red-500', 'ring-red-500');
                }
            });

            if (APPS_SCRIPT_URL === 'YOUR_APPS_SCRIPT_WEB_APP_URL_HERE') {
                isValid = false;
                messageBox.textContent = 'âŒ è«‹å…ˆå°‡ JavaScript ä¸­çš„ APPS_SCRIPT_URL æ›¿æ›ç‚ºæ‚¨éƒ¨ç½²çš„ Apps Script ç¶²å€ï¼';
                messageBox.classList.remove('hidden', 'bg-green-100', 'text-green-700');
                messageBox.classList.add('bg-red-100', 'text-red-700');
            }


            if (!isValid) {
                 if (messageBox.textContent.indexOf('Apps Script ç¶²å€') === -1) {
                    messageBox.textContent = 'âŒ è«‹ç¢ºä¿æ‰€æœ‰å¿…å¡«æ¬„ä½éƒ½å·²å¡«å¯«ã€‚';
                    messageBox.classList.remove('hidden', 'bg-green-100', 'text-green-700');
                    messageBox.classList.add('bg-red-100', 'text-red-700');
                 }
                return; // é©—è­‰å¤±æ•—å‰‡åœæ­¢æäº¤
            }

            // é¡¯ç¤ºè¼‰å…¥ä¸­
            messageBox.textContent = 'â³ è³‡æ–™æäº¤ä¸­ï¼Œè«‹ç¨å€™...';
            messageBox.classList.remove('hidden', 'bg-red-100', 'bg-green-100', 'text-red-700', 'text-green-700');
            messageBox.classList.add('bg-blue-100', 'text-blue-700');


            try {
                // 2. æ”¶é›†è¡¨å–®è³‡æ–™
                const formData = new FormData(form);
                
                // 3. ä½¿ç”¨ fetch å‚³é€ POST è«‹æ±‚
                const response = await fetch(APPS_SCRIPT_URL, {
                    method: 'POST',
                    body: formData, // ç›´æ¥å‚³é€ FormData
                });

                // 4. è™•ç† Apps Script çš„å›æ‡‰
                let result = { status: 'success' }; // é è¨­æˆåŠŸ
                try {
                     // å˜—è©¦è§£æ JSON
                    result = await response.json();
                } catch (e) {
                    // å¦‚æœç„¡æ³•è§£æï¼Œé€šå¸¸ä»£è¡¨è³‡æ–™å·²æˆåŠŸå¯«å…¥ï¼Œä½† Apps Script çš„å›æ‡‰æ–¹å¼å°è‡´ç€è¦½å™¨è§£æéŒ¯èª¤ï¼Œ
                    // é€™è£¡å…ˆè¦–ç‚ºæˆåŠŸï¼Œä½†æœƒåœ¨æ§åˆ¶å°é¡¯ç¤ºè­¦å‘Šã€‚
                    console.warn("Apps Script responded, but could not parse JSON. Assuming data submitted successfully.");
                }


                if (result.status === 'success') {
                    // æäº¤æˆåŠŸ
                    messageBox.textContent = 'ğŸ¥³ å ±åæˆåŠŸï¼æ„Ÿè¬æ‚¨çš„åƒèˆ‡ï¼Œè³‡æ–™å·²è¨˜éŒ„åˆ° Google Sheetsï¼';
                    messageBox.classList.remove('bg-blue-100', 'text-blue-700');
                    messageBox.classList.add('bg-green-100', 'text-green-700');
                    form.reset(); // æ¸…ç©ºè¡¨å–®
                } else {
                    // Apps Script å›å ±å¯«å…¥éŒ¯èª¤
                    messageBox.textContent = `âŒ è³‡æ–™å¯«å…¥å¤±æ•—: ${result.message || 'è«‹æª¢æŸ¥ Apps Script Logã€‚'}`;
                    messageBox.classList.remove('bg-blue-100', 'text-blue-700');
                    messageBox.classList.add('bg-red-100', 'text-red-700');
                }

            } catch (error) {
                // ç¶²è·¯é€£ç·šæˆ–å…¶ä»–åŸ·è¡ŒéŒ¯èª¤
                messageBox.textContent = `âŒ æäº¤å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯é€£ç·šæˆ– Apps Script ç¶²å€æ˜¯å¦æ­£ç¢ºã€‚`;
                messageBox.classList.remove('bg-blue-100', 'text-blue-700');
                messageBox.classList.add('bg-red-100', 'text-red-700');
                console.error('Submission Error:', error);
            }
            
            // è¨Šæ¯é¡¯ç¤ºå¹¾ç§’å¾Œéš±è—
            setTimeout(() => {
                messageBox.classList.add('hidden');
            }, 8000); // å»¶é•·é¡¯ç¤ºæ™‚é–“ï¼Œä»¥ä¾¿ç”¨æˆ¶çœ‹åˆ°æˆåŠŸè¨Šæ¯
        }
    </script>
</head>
<body class="min-h-screen p-4 flex items-center justify-center 
             bg-gradient-to-br from-yellow-300 via-pink-400 to-purple-500">
    <!-- å¤–å±¤å®¹å™¨ï¼šç¢ºä¿è¡¨å–®å±…ä¸­ä¸¦å…·æœ‰éŸ¿æ‡‰å¼æœ€å¤§å¯¬åº¦ -->
    <div class="w-full max-w-lg lg:max-w-xl mx-auto">
        <!-- è¡¨å–®å¡ç‰‡ï¼šæ´»æ½‘çš„è¨­è¨ˆé¢¨æ ¼ -->
        <div class="bg-white p-6 sm:p-8 md:p-10 rounded-3xl shadow-2xl transition duration-500 hover:shadow-primary-vibrant/50 transform hover:scale-[1.01] border-4 border-white/50 backdrop-blur-sm">
            
            <!-- æ¨™é¡Œå€å¡Š -->
            <header class="text-center mb-8">
                <h1 class="text-3xl sm:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-primary-vibrant to-secondary-energetic mb-2">
                    ğŸš€ æ´»åŠ›å››å°„æ´»å‹•å ±åè¡¨ ğŸŒˆ
                </h1>
                <p class="text-gray-600 text-lg">
                    æŠ“ä½æ©Ÿæœƒï¼Œç«‹å³åŠ å…¥æˆ‘å€‘çš„ç²¾å½©æ´»å‹•ï¼
                </p>
            </header>

            <!-- è¨Šæ¯æ¡† (é alert) -->
            <div id="messageBox" class="hidden p-4 mb-6 rounded-xl font-medium text-center transition-all duration-300 shadow-md" role="alert">
                <!-- è¨Šæ¯å…§å®¹å°‡ç”± JavaScript å¡«å¯« -->
            </div>

            <!-- å ±åè¡¨å–® -->
            <form id="registrationForm" onsubmit="handleSubmit(event)">
                <div class="space-y-6">
                    
                    <!-- å§“å -->
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">
                            å§“å <span class="text-red-500">*</span>
                        </label>
                        <input type="text" id="name" name="name" required
                               class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-xl shadow-sm 
                                      focus:ring-secondary-energetic focus:border-secondary-energetic transition duration-150 
                                      placeholder-gray-400 text-gray-800 focus:outline-none"
                               placeholder="è«‹è¼¸å…¥æ‚¨çš„çœŸå¯¦å§“å">
                    </div>

                    <!-- é›»å­éƒµä»¶ -->
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">
                            é›»å­éƒµä»¶ <span class="text-red-500">*</span>
                        </label>
                        <input type="email" id="email" name="email" required
                               class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-xl shadow-sm 
                                      focus:ring-primary-vibrant focus:border-primary-vibrant transition duration-150 
                                      placeholder-gray-400 text-gray-800 focus:outline-none"
                               placeholder="example@email.com">
                    </div>

                    <!-- è¯çµ¡é›»è©± -->
                    <div>
                        <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">
                            è¯çµ¡é›»è©± <span class="text-red-500">*</span>
                        </label>
                        <input type="tel" id="phone" name="phone" required
                               class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-xl shadow-sm 
                                      focus:ring-secondary-energetic focus:border-secondary-energetic transition duration-150 
                                      placeholder-gray-400 text-gray-800 focus:outline-none"
                               placeholder="ä¾‹å¦‚: 0912345678">
                    </div>

                    <!-- å¹´é½¡ -->
                    <div>
                        <label for="age" class="block text-sm font-medium text-gray-700 mb-1">
                            å¹´é½¡ <span class="text-red-500">*</span>
                        </label>
                        <input type="number" id="age" name="age" min="1" max="120" required
                               class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-xl shadow-sm 
                                      focus:ring-primary-vibrant focus:border-primary-vibrant transition duration-150 
                                      placeholder-gray-400 text-gray-800 focus:outline-none"
                               placeholder="è«‹è¼¸å…¥æ‚¨çš„å¹´é½¡">
                    </div>
                    
                    <!-- æ´»å‹•/èª²ç¨‹é¸æ“‡ (ä¸‹æ‹‰å¼é¸å–®) -->
                    <div>
                        <label for="course" class="block text-sm font-medium text-gray-700 mb-1">
                            é¸æ“‡æ´»å‹•/èª²ç¨‹ <span class="text-red-500">*</span>
                        </label>
                        <select id="course" name="course" required
                                class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-xl shadow-sm bg-white 
                                       focus:ring-secondary-energetic focus:border-secondary-energetic transition duration-150 
                                       text-gray-800 focus:outline-none appearance-none cursor-pointer">
                            <option value="" disabled selected>è«‹é¸æ“‡ä¸€å€‹æ´»å‹•...</option>
                            <option value="dance">ç†±èˆå·¥ä½œåŠ (Dance Workshop)</option>
                            <option value="art">å‰µæ„å¡—é´‰ä¹‹å¤œ (Creative Art Night)</option>
                            <option value="music">é›»å­éŸ³æ¨‚è£½ä½œ (Electronic Music Production)</option>
                            <option value="yoga">æ—©æ™¨æ´»åŠ›ç‘œçˆ (Morning Yoga)</option>
                        </select>
                        <!-- å¢åŠ ä¸€å€‹è‡ªå®šç¾©çš„ç®­é ­ä¾†ç¾åŒ–ä¸‹æ‹‰é¸å–® (ç”¨SVG) -->
                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                           <!-- SVG Icon: Down Arrow -->
                        </div>
                    </div>
                    
                    <!-- å‚™è¨» (é¸å¡«) -->
                    <div>
                        <label for="notes" class="block text-sm font-medium text-gray-700 mb-1">
                            å‚™è¨» (é¸å¡«)
                        </label>
                        <textarea id="notes" name="notes" rows="3"
                                  class="mt-1 block w-full px-4 py-2 border border-gray-300 rounded-xl shadow-sm 
                                         focus:ring-primary-vibrant focus:border-primary-vibrant transition duration-150 
                                         placeholder-gray-400 text-gray-800 focus:outline-none"
                                  placeholder="å¦‚æœ‰ç‰¹æ®Šéœ€æ±‚è«‹åœ¨æ­¤èªªæ˜..."></textarea>
                    </div>

                    <!-- æäº¤æŒ‰éˆ• -->
                    <button type="submit"
                            class="w-full flex justify-center py-3 px-4 border border-transparent 
                                   rounded-full shadow-lg text-lg font-bold text-white 
                                   bg-gradient-to-r from-primary-vibrant to-secondary-energetic 
                                   hover:from-secondary-energetic hover:to-primary-vibrant 
                                   focus:outline-none focus:ring-4 focus:ring-offset-2 focus:ring-primary-vibrant/50 
                                   transform hover:scale-[1.02] active:scale-[0.98] transition duration-200 ease-in-out">
                        ç¢ºèªå ±åï¼Œé»ç‡ƒæ´»åŠ›ï¼ ğŸ”¥
                    </button>
                    
                </div>
            </form>

        </div>
    </div>
</body>
</html>
